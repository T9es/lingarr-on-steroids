import{d as I,m as N,r as d,c as f,b as o,x as p,k as c,L as k,j as u,f as $,p as j,D as g,M as z,g as F,Q as M,F as Q,y as T,n as q,e as a}from"./index-Ch4LkV9I.js";import{C as E}from"./CaretRightIcon-0y92JSx2.js";import{L as P}from"./LoaderCircleIcon--TJ8BGW4.js";import{u as R}from"./useClickOutside-CMGy5ibi.js";const U={class:"relative"},A={key:0,class:"mb-1 block text-sm"},G={key:0,class:"text-gray-400"},H={key:1,class:"flex max-h-12 flex-wrap gap-2 overflow-auto"},J={class:"bg-accent flex cursor-pointer items-center rounded-md px-3 py-1 text-sm font-medium"},K={class:"text-accent-content mr-2"},W={class:"flex items-center"},X={key:0,class:"border-b border-border p-2"},Y=["placeholder"],Z={key:1,class:"p-3"},ee=["onClick"],ne=I({__name:"SelectComponent",props:{label:{default:""},options:{default:()=>[]},selected:{default:""},disabled:{type:Boolean},loadOnOpen:{type:Boolean},placeholder:{default:"Select items..."},noOptions:{default:"Select a source language first."},enableSearch:{type:Boolean,default:!1}},emits:["update:selected","fetch-options"],setup(n,{expose:w,emit:C}){const t=n,v=C,{translate:_}=N(),l=d(!1),m=d(!1),b=d(),h=d(),i=d(""),y=f(()=>[...t.options].sort((e,s)=>e.label.localeCompare(s.label))),x=f(()=>{if(!t.enableSearch||i.value.trim()==="")return y.value;const e=i.value.toLowerCase();return y.value.filter(s=>s.label.toLowerCase().includes(e)||s.value.toLowerCase().includes(e))}),O=f(()=>{const e=t.options.find(s=>s.value===t.selected);return e?e.label:t.selected}),S=async()=>{t.disabled||(l.value=!l.value,l.value&&t.loadOnOpen&&(m.value=!0,v("fetch-options")),l.value&&t.enableSearch&&(i.value=""),await q())},L=async e=>{m.value=e},B=e=>{v("update:selected",e.value),l.value=!1},D=e=>t.selected==e;return R(b,()=>{l.value=!1},h),w({setLoadingState:L}),(e,s)=>(a(),o("div",U,[n.label?(a(),o("label",A,u(n.label),1)):p("",!0),c("div",{ref_key:"excludeClickOutside",ref:h,class:"border-accent flex h-12 cursor-pointer items-center justify-between rounded-md border px-4 py-2",onClick:S},[n.selected?(a(),o("div",H,[c("span",J,[c("span",K,u(O.value),1)])])):(a(),o("span",G,u(n.placeholder),1)),c("div",W,[m.value?(a(),$(P,{key:0,class:"mr-2 h-4 w-4 animate-spin"})):p("",!0),j(E,{class:g([{"rotate-90":l.value},"arrow-right h-5 w-5 transition-transform duration-200"])},null,8,["class"])])],512),k(c("ul",{ref_key:"clickOutside",ref:b,class:"border-accent bg-primary absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md border shadow-lg"},[n.enableSearch?(a(),o("li",X,[k(c("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>i.value=r),type:"text",class:"w-full rounded border border-border bg-transparent px-2 py-1 text-sm outline-hidden",placeholder:F(_)("settings.services.modelSearchPlaceholder")},null,8,Y),[[M,i.value]])])):p("",!0),x.value.length?p("",!0):(a(),o("li",Z,u(n.noOptions),1)),(a(!0),o(Q,null,T(x.value,(r,V)=>(a(),o("li",{key:`${r.value}-${V}`,class:g(["cursor-pointer px-4 py-2",{"bg-accent/20":D(r.value)}]),onClick:te=>B(r)},u(r.label),11,ee))),128))],512),[[z,l.value]])]))}});export{ne as _};
