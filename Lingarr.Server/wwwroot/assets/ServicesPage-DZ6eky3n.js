import{d as O,r as L,G as U,c as E,S as g,b,F as R,p as S,e as _,L as q,k as a,P as ne,j as i,m as M,z as se,B as H,C as $,g as e,D as k,I as Y,w as oe,y as K,E as X,M as ie,x as P,Q as re,n as z,K as de,o as G,l as ue,X as J,Y as h,f as V,q as w,R as ce,Z as pe}from"./index-Ch4LkV9I.js";import{_ as F}from"./CardComponent.vue_vue_type_script_setup_true_lang-BTSWa718.js";import{_ as D}from"./SelectComponent.vue_vue_type_script_setup_true_lang-Bg1pAB5D.js";import{_ as W}from"./SaveNotification.vue_vue_type_script_setup_true_lang-DmHm51hl.js";import{_ as C,a as ve}from"./InputComponent.vue_vue_type_script_setup_true_lang-B3DG7u6j.js";import{_ as ae}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as ge}from"./delay-NRuupcPE.js";import{C as me}from"./CaretRightIcon-0y92JSx2.js";import{T as ee}from"./TimesIcon-BnWx0jvB.js";import{u as fe}from"./useClickOutside-CMGy5ibi.js";import{L as _e}from"./LoaderCircleIcon--TJ8BGW4.js";import{T as ye}from"./TrashIcon-CcHMfhdK.js";import{u as Ee}from"./useDebounce--iKAfTly.js";import{_ as j}from"./ToggleButton.vue_vue_type_script_setup_true_lang-BpuRAIPv.js";const be=O({__name:"LibreTranslateConfig",emits:["save"],setup(A,{emit:r}){const t=L(!1),s=U(),f=r,v=E({get:()=>s.getSetting(g.LIBRETRANSLATE_URL),set:m=>{s.updateSetting(g.LIBRETRANSLATE_URL,m,t.value),t.value&&f("save")}}),u=E({get:()=>s.getSetting(g.LIBRETRANSLATE_API_KEY),set:m=>{s.updateSetting(g.LIBRETRANSLATE_API_KEY,m,t.value),t.value&&f("save")}});return(m,d)=>(_(),b(R,null,[S(C,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=o=>v.value=o),"validation-type":"url",label:m.translate("settings.services.serviceAddress"),"error-message":m.translate("settings.services.addressUrlError"),"onUpdate:validation":d[1]||(d[1]=o=>t.value=o)},null,8,["modelValue","label","error-message"]),S(C,{modelValue:u.value,"onUpdate:modelValue":d[2]||(d[2]=o=>u.value=o),"validation-type":"string",type:"password",label:m.translate("settings.services.apiKey"),"error-message":m.translate("settings.services.apiKeyError"),"onUpdate:validation":d[3]||(d[3]=o=>t.value=o)},null,8,["modelValue","label","error-message"])],64))}}),he={class:"pt-2 text-xs"},Se=O({__name:"DeepLConfig",emits:["save"],setup(A,{emit:r}){const t=L(!1),s=U(),f=r,v=E({get:()=>s.getSetting(g.DEEPL_API_KEY),set:u=>{s.updateSetting(g.DEEPL_API_KEY,u,t.value),t.value&&f("save")}});return(u,m)=>{const d=ne("translate");return _(),b(R,null,[S(C,{modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=o=>v.value=o),"validation-type":"string",type:"password","min-length":1,label:u.translate("settings.services.apiKey"),"error-message":u.translate("settings.services.apiKeyError"),"onUpdate:validation":m[1]||(m[1]=o=>t.value=o)},null,8,["modelValue","label","error-message"]),q(a("div",he,null,512),[[d,"settings.services.deeplNotification"]])],64)}}}),Ae={},xe={class:"text-xs"};function Te(A,r){return _(),b("div",xe,i(A.translate("settings.services.freeServiceLimits")),1)}const Le=ae(Ae,[["render",Te]]);function N(){const{translate:A}=M(),r=L([]),t=L(null),s=L(null);return{options:r,errorMessage:t,selectRef:s,loadOptions:async()=>{try{t.value=null,await ge(500);const v=await se.translate.getModels();r.value=v.options||[],r.value.length===0&&(t.value=v.message||A("settings.services.noModelsAvailable"))}catch{t.value="Error loading models. Please try again."}finally{s.value&&s.value.setLoadingState(!1)}}}}const Ie={class:"flex flex-col space-y-2"},$e={class:"text-xs"},Ce={class:"mb-1 block text-sm"},Pe=O({__name:"AnthropicConfig",emits:["save"],setup(A,{emit:r}){const t=Y(),{translate:s}=M(),{options:f,errorMessage:v,selectRef:u,loadOptions:m}=N(),d=U(),o=r,c=H({apiKey:!1,version:!1}),y=E(()=>d.getSetting(g.AUTOMATION_ENABLED)),T=E({get:()=>d.getSetting(g.ANTHROPIC_MODEL),set:l=>{d.updateSetting(g.ANTHROPIC_MODEL,l,!0),o("save")}}),x=E({get:()=>d.getSetting(g.ANTHROPIC_API_KEY),set:l=>{d.updateSetting(g.ANTHROPIC_API_KEY,l,c.apiKey),c.apiKey&&o("save")}}),p=E({get:()=>d.getSetting(g.ANTHROPIC_VERSION),set:l=>{d.updateSetting(g.ANTHROPIC_VERSION,l,c.version),c.version&&o("save")}});return(l,n)=>(_(),b("div",Ie,[a("div",null,[$(i(e(s)("settings.services.aiWarningIntro"))+" ",1),a("span",{class:k(y.value=="true"?"text-red-500":"text-green-500")},i(y.value=="true"?e(s)("settings.services.serviceEnabled"):e(s)("settings.services.serviceDisabled")),3)]),a("p",$e,i(e(s)("settings.services.aiCostDescription")),1),S(C,{modelValue:x.value,"onUpdate:modelValue":n[0]||(n[0]=I=>x.value=I),"validation-type":"string",type:"password",label:e(s)("settings.services.apiKey"),"min-length":1,"error-message":e(s)("settings.services.apiKeyError"),"onUpdate:validation":n[1]||(n[1]=I=>c.apiKey=I)},null,8,["modelValue","label","error-message"]),S(C,{modelValue:p.value,"onUpdate:modelValue":n[2]||(n[2]=I=>p.value=I),"validation-type":"string",label:e(s)("settings.services.versionLabel"),"min-length":1,"error-message":e(s)("settings.services.versionError"),"onUpdate:validation":n[3]||(n[3]=I=>c.version=I)},null,8,["modelValue","label","error-message"]),a("label",Ce,i(e(s)("settings.services.aiModel")),1),S(D,{ref_key:"selectRef",ref:u,selected:T.value,"onUpdate:selected":n[4]||(n[4]=I=>T.value=I),options:e(f),"load-on-open":!0,placeholder:e(s)("settings.services.selectModel"),"no-options":e(v)||e(s)("settings.services.loadingModels"),onFetchOptions:e(m)},null,8,["selected","options","placeholder","no-options","onFetchOptions"]),a("p",null,[$(i(e(s)("settings.services.batchSupportAvailable"))+" ",1),a("a",{class:"cursor-pointer underline",onClick:n[5]||(n[5]=I=>e(t).push({name:"subtitle-settings"}))},i(e(s)("settings.services.batchSupportLink")),1)])]))}}),Oe={class:"flex flex-col space-y-2"},Ve={class:"text-xs"},Ue={class:"mb-1 block text-sm"},we=O({__name:"OpenAiConfig",emits:["save"],setup(A,{emit:r}){const{translate:t}=M(),{options:s,errorMessage:f,selectRef:v,loadOptions:u}=N(),m=Y(),d=U(),o=r,c=L(!1),y=E(()=>d.getSetting(g.AUTOMATION_ENABLED)),T=E({get:()=>d.getSetting(g.OPENAI_MODEL),set:p=>{d.updateSetting(g.OPENAI_MODEL,p,!0),o("save")}}),x=E({get:()=>d.getSetting(g.OPENAI_API_KEY),set:p=>{d.updateSetting(g.OPENAI_API_KEY,p,c.value),c.value&&o("save")}});return(p,l)=>(_(),b("div",Oe,[a("div",null,[$(i(e(t)("settings.services.aiWarningIntro"))+" ",1),a("span",{class:k(y.value=="true"?"text-red-500":"text-green-500")},i(y.value=="true"?e(t)("settings.services.serviceEnabled"):e(t)("settings.services.serviceDisabled")),3)]),a("p",Ve,i(e(t)("settings.services.aiCostDescription")),1),S(C,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=n=>x.value=n),"validation-type":"string",type:"password",label:e(t)("settings.services.apiKey"),"min-length":1,"error-message":e(t)("settings.services.apiKeyError"),"onUpdate:validation":l[1]||(l[1]=n=>c.value=n)},null,8,["modelValue","label","error-message"]),a("label",Ue,i(e(t)("settings.services.aiModel")),1),S(D,{ref_key:"selectRef",ref:v,selected:T.value,"onUpdate:selected":l[2]||(l[2]=n=>T.value=n),options:e(s),"load-on-open":!0,placeholder:e(t)("settings.services.selectModel"),"no-options":e(f)||e(t)("settings.services.loadingModels"),onFetchOptions:e(u)},null,8,["selected","options","placeholder","no-options","onFetchOptions"]),a("p",null,[$(i(e(t)("settings.services.batchSupportAvailable"))+" ",1),a("a",{class:"cursor-pointer underline",onClick:l[3]||(l[3]=n=>e(m).push({name:"subtitle-settings"}))},i(e(t)("settings.services.batchSupportLink")),1)])]))}}),Re={class:"flex flex-col space-y-2"},ke={class:"text-xs"},Me={class:"text-xs"},De=O({__name:"LocalAiConfig",emits:["save"],setup(A,{emit:r}){const t=U(),s=r,f=H({address:!1,model:!1,apiKey:!1}),v=Y(),u=E({get:()=>t.getSetting(g.LOCAL_AI_MODEL),set:o=>{t.updateSetting(g.LOCAL_AI_MODEL,o,f.model),f.model&&s("save")}}),m=E({get:()=>t.getSetting(g.LOCAL_AI_API_KEY),set:o=>{t.updateSetting(g.LOCAL_AI_API_KEY,o,f.apiKey),f.apiKey&&s("save")}}),d=E({get:()=>t.getSetting(g.LOCAL_AI_ENDPOINT),set:o=>{t.updateSetting(g.LOCAL_AI_ENDPOINT,o,f.address),f.address&&s("save")}});return(o,c)=>(_(),b("div",Re,[a("p",ke,[$(i(o.translate("settings.services.localAiDescriptionPath"))+" ",1),c[7]||(c[7]=a("span",{class:"bg-primary rounded-md p-1"},"/v1/chat/completions",-1)),$(" "+i(o.translate("settings.services.localAiDescriptionOr"))+" ",1),c[8]||(c[8]=a("span",{class:"bg-primary my-1 inline-block rounded-md p-1"},"/api/generate",-1)),$(" "+i(o.translate("settings.services.localAiDescriptionFollow"))+" ",1),c[9]||(c[9]=a("a",{href:"https://platform.openai.com/docs/api-reference/chat/create",class:"underline",target:"_blank"}," Open AI ",-1)),$(" "+i(o.translate("settings.services.localAiDescriptionSpecification")),1)]),S(C,{modelValue:d.value,"onUpdate:modelValue":c[0]||(c[0]=y=>d.value=y),"validation-type":"url",placeholder:o.translate("settings.services.localAiPlaceholder"),label:o.translate("settings.services.serviceAddress"),"onUpdate:validation":c[1]||(c[1]=y=>f.address=y)},null,8,["modelValue","placeholder","label"]),S(C,{modelValue:u.value,"onUpdate:modelValue":c[2]||(c[2]=y=>u.value=y),"validation-type":"string",label:o.translate("settings.services.aiModel"),placeholder:o.translate("settings.services.localAiModelPlaceholder"),"onUpdate:validation":c[3]||(c[3]=y=>f.model=y)},null,8,["modelValue","label","placeholder"]),S(C,{modelValue:m.value,"onUpdate:modelValue":c[4]||(c[4]=y=>m.value=y),"validation-type":"string",type:"password",label:o.translate("settings.services.apiKey"),"onUpdate:validation":c[5]||(c[5]=y=>f.apiKey=y)},null,8,["modelValue","label"]),a("p",Me,i(o.translate("settings.services.localAiNotification")),1),a("p",null,[$(i(o.translate("settings.services.batchSupportAvailable"))+" ",1),a("a",{class:"cursor-pointer underline",onClick:c[6]||(c[6]=y=>e(v).push({name:"subtitle-settings"}))},i(o.translate("settings.services.batchSupportLink")),1)])]))}}),Ne={class:"flex flex-col space-y-2"},Be={class:"text-xs"},Ke={class:"mb-1 block text-sm"},He=O({__name:"GeminiConfig",emits:["save"],setup(A,{emit:r}){const{translate:t}=M(),{options:s,errorMessage:f,selectRef:v,loadOptions:u}=N(),m=U(),d=r,o=L(!1),c=Y(),y=E(()=>m.getSetting(g.AUTOMATION_ENABLED)),T=E({get:()=>m.getSetting(g.GEMINI_MODEL),set:p=>{m.updateSetting(g.GEMINI_MODEL,p,!0),d("save")}}),x=E({get:()=>m.getSetting(g.GEMINI_API_KEY),set:p=>{m.updateSetting(g.GEMINI_API_KEY,p,o.value),o.value&&d("save")}});return(p,l)=>(_(),b("div",Ne,[a("div",null,[$(i(e(t)("settings.services.aiWarningIntro"))+" ",1),a("span",{class:k(y.value=="true"?"text-red-500":"text-green-500")},i(y.value=="true"?e(t)("settings.services.serviceEnabled"):e(t)("settings.services.serviceDisabled")),3)]),a("p",Be,i(e(t)("settings.services.aiCostDescription")),1),S(C,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=n=>x.value=n),"validation-type":"string",type:"password",label:e(t)("settings.services.apiKey"),"min-length":1,"error-message":e(t)("settings.services.apiKeyError"),"onUpdate:validation":l[1]||(l[1]=n=>o.value=n)},null,8,["modelValue","label","error-message"]),a("label",Ke,i(e(t)("settings.services.aiModel")),1),S(D,{ref_key:"selectRef",ref:v,selected:T.value,"onUpdate:selected":l[2]||(l[2]=n=>T.value=n),options:e(s),"load-on-open":!0,placeholder:e(t)("settings.services.selectModel"),"no-options":e(f)||e(t)("settings.services.loadingModels"),onFetchOptions:e(u)},null,8,["selected","options","placeholder","no-options","onFetchOptions"]),a("p",null,[$(i(e(t)("settings.services.batchSupportAvailable"))+" ",1),a("a",{class:"cursor-pointer underline",onClick:l[3]||(l[3]=n=>e(c).push({name:"subtitle-settings"}))},i(e(t)("settings.services.batchSupportLink")),1)])]))}}),Ye={class:"flex flex-col space-y-2"},Ge={class:"text-xs"},Fe={class:"mb-1 block text-sm"},qe=O({__name:"DeepSeekConfig",emits:["save"],setup(A,{emit:r}){const{translate:t}=M(),{options:s,errorMessage:f,selectRef:v,loadOptions:u}=N(),m=U(),d=r,o=L(!1),c=E(()=>m.getSetting(g.AUTOMATION_ENABLED)),y=E({get:()=>m.getSetting(g.DEEPSEEK_MODEL),set:x=>{m.updateSetting(g.DEEPSEEK_MODEL,x,!0),d("save")}}),T=E({get:()=>m.getSetting(g.DEEPSEEK_API_KEY),set:x=>{m.updateSetting(g.DEEPSEEK_API_KEY,x,o.value),o.value&&d("save")}});return(x,p)=>(_(),b("div",Ye,[a("div",null,[$(i(e(t)("settings.services.aiWarningIntro"))+" ",1),a("span",{class:k(c.value=="true"?"text-red-500":"text-green-500")},i(c.value=="true"?e(t)("settings.services.serviceEnabled"):e(t)("settings.services.serviceDisabled")),3)]),a("p",Ge,i(e(t)("settings.services.aiCostDescription")),1),S(C,{modelValue:T.value,"onUpdate:modelValue":p[0]||(p[0]=l=>T.value=l),"validation-type":"string",type:"password",label:e(t)("settings.services.apiKey"),"min-length":1,"error-message":e(t)("settings.services.apiKeyError"),"onUpdate:validation":p[1]||(p[1]=l=>o.value=l)},null,8,["modelValue","label","error-message"]),a("label",Fe,i(e(t)("settings.services.aiModel")),1),S(D,{ref_key:"selectRef",ref:v,selected:y.value,"onUpdate:selected":p[2]||(p[2]=l=>y.value=l),options:e(s),"load-on-open":!0,placeholder:e(t)("settings.services.selectModel"),"no-options":e(f)||e(t)("settings.services.loadingModels"),onFetchOptions:e(u)},null,8,["selected","options","placeholder","no-options","onFetchOptions"])]))}}),Xe={class:"relative"},ze={key:0,class:"text-gray-400"},je={key:1,class:"flex max-h-12 flex-wrap gap-2 overflow-auto"},We=["data-key","onClick"],Qe={class:"text-accent-content mr-2"},Ze={key:0,class:"p-3"},Je={key:1,class:"flex items-center"},et=["placeholder"],tt=["data-key","onClick"],te=O({__name:"LanguageSelect",props:{options:{},selected:{default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["update:selected"],setup(A,{emit:r}){const t=r,s=L(!1),f=L(),v=L(A.selected),u=L(),m=L(),d=L(""),o=E(()=>A.options.filter(p=>p?d.value?p.name.toLowerCase().includes(d.value.toLowerCase()):!0:!1).sort((p,l)=>p.name.localeCompare(l.name))),c=async()=>{A.disabled||(s.value=!s.value,await z(),f.value?.focus())},y=p=>{const l=v.value.findIndex(n=>n.code===p.code);l===-1?v.value.push(p):v.value.splice(l,1),t("update:selected",v.value),s.value=!1},T=p=>{const l=v.value.findIndex(n=>n.code===p.code);l!==-1&&(v.value.splice(l,1),t("update:selected",v.value))},x=p=>v.value.some(l=>l.code===p.code);return oe(()=>A.selected,p=>{v.value=p},{deep:!0}),fe(u,()=>{s.value=!1},m),(p,l)=>(_(),b("div",Xe,[a("div",{ref_key:"excludeClickOutside",ref:m,class:"border-accent flex h-12 cursor-pointer items-center justify-between rounded-md border px-4 py-2",onClick:c},[v.value.length===0?(_(),b("span",ze,i(p.translate("settings.translate.languageSelectPlaceholder")),1)):(_(),b("div",je,[(_(!0),b(R,null,K(v.value,(n,I)=>(_(),b("span",{key:`${n.code}-${I}`,"data-key":`${n.code}-${I}`,class:"bg-accent text-secondary-content flex cursor-pointer items-center rounded-md px-3 py-1 text-sm font-medium",onClick:X(B=>T(n),["stop"])},[a("span",Qe,i(n.name),1),S(ee,{class:"mt-0.5 h-4 w-4"})],8,We))),128))])),S(me,{class:k([{"rotate-90":s.value},"arrow-right h-5 w-5 transition-transform duration-200"])},null,8,["class"])],512),q(a("ul",{ref_key:"clickOutside",ref:u,class:"border-accent bg-primary absolute z-10 mt-1 max-h-60 w-full overflow-auto rounded-md border shadow-lg"},[A.options?.length?(_(),b("li",Je,[q(a("input",{ref_key:"searchInput",ref:f,"onUpdate:modelValue":l[0]||(l[0]=n=>d.value=n),class:"border-accent relative w-full border-b bg-transparent p-2 outline-hidden",placeholder:p.translate("settings.translate.selectOrSearchLanguagePlaceholder")},null,8,et),[[re,d.value]]),d.value?(_(),b("span",{key:0,class:"absolute right-0 z-10 flex cursor-pointer items-center p-3",onClick:l[1]||(l[1]=n=>d.value="")},[S(ee,{class:"h-4 w-4"})])):P("",!0)])):(_(),b("li",Ze,i(p.translate("settings.translate.languageSelectTargetNotification")),1)),(_(!0),b(R,null,K(o.value,(n,I)=>(_(),b("li",{key:`${n.code}-${I}`,"data-key":`${n.code}-${I}`,class:k(["cursor-pointer px-4 py-2",{"bg-accent/20":x(n)}]),onClick:B=>y(n)},i(n.name),11,tt))),128))],512),[[ie,s.value]])]))}}),st={key:0,class:"border-accent bg-primary mb-4 rounded-md border p-4"},at={class:"flex items-start"},lt={class:"text-secondary-content font-medium"},nt={class:"text-secondary-content mt-1 text-sm"},ot=["disabled"],it={key:0},rt={key:1},dt={class:"flex flex-col space-x-2"},ut={class:"font-semibold"},ct={key:0,class:"py-4"},pt={class:"flex items-center space-x-2"},vt=O({__name:"SourceAndTarget",emits:["save"],setup(A,{emit:r}){const t=U(),s=de(),f=E(()=>s.getLanguages),v=r,u=E({get:()=>t.getSetting(g.SOURCE_LANGUAGES),set:c=>{t.updateSetting(g.SOURCE_LANGUAGES,c,!0,!0),v("save")}}),m=E({get:()=>t.getSetting(g.TARGET_LANGUAGES),set:c=>{t.updateSetting(g.TARGET_LANGUAGES,c,!0,!0),v("save")}}),d=E(()=>{if(u.value.length===0)return[];const c=u.value.flatMap(T=>{const x=f.value.find(p=>p.code===T.code);return x?x.targets:[]});return[...new Set(c)].map(T=>{const x=f.value.find(p=>p.code===T);if(x)return{...x}})});function o(){s.setLanguages()}return G(()=>{s.setLanguages()}),(c,y)=>(_(),b(R,null,[e(s).hasLanguagesError?(_(),b("div",st,[a("div",at,[y[2]||(y[2]=a("svg",{xmlns:"http://www.w3.org/2000/svg",class:"text-accent mt-1 mr-2 h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})],-1)),a("div",null,[a("p",lt,i(c.translate("settings.translate.languageLoadErrorTitle")),1),a("p",nt,i(c.translate("settings.translate.languageLoadErrorDescription")),1),a("button",{class:"border-accent hover:bg-accent mt-3 cursor-pointer justify-end rounded border px-3 py-2 transition-colors hover:text-white",disabled:e(s).isLanguagesLoading,onClick:o},[e(s).isLanguagesLoading?(_(),b("span",it,i(c.translate("common.loading")),1)):(_(),b("span",rt,i(c.translate("common.retry")),1))],8,ot)])])])):P("",!0),e(s).hasLanguagesError?P("",!0):(_(),b(R,{key:1},[a("div",dt,[a("span",ut,i(c.translate("settings.translate.sourceAndTargetTitle")),1),$(" "+i(c.translate("settings.translate.sourceAndTargetDescription")),1)]),e(s).isLanguagesLoading?(_(),b("div",ct,[a("div",pt,[S(_e,{class:"h-5 w-5"}),a("span",null,i(c.translate("common.loading")),1)])])):(_(),b(R,{key:1},[a("div",null,[a("span",null,i(c.translate("settings.translate.selectSourceDescription")),1),S(te,{selected:u.value,"onUpdate:selected":y[0]||(y[0]=T=>u.value=T),class:"w-full",options:f.value},null,8,["selected","options"])]),a("div",null,[a("span",null,i(c.translate("settings.translate.selectTargetDescription")),1),S(te,{selected:m.value,"onUpdate:selected":y[1]||(y[1]=T=>m.value=T),class:"w-full",options:d.value},null,8,["selected","options"])])],64))],64))],64))}}),gt={class:"flex flex-col space-y-3"},mt={class:"text-xs"},ft={class:"mb-1 block text-sm"},_t=O({__name:"ChutesConfig",emits:["save"],setup(A,{emit:r}){const{translate:t}=M(),s=U(),{options:f,errorMessage:v,selectRef:u,loadOptions:m}=N(),d=r,o=L(!1),c=E(()=>s.getSetting(g.AUTOMATION_ENABLED)),y=E({get:()=>s.getSetting(g.CHUTES_API_KEY)||"",set:x=>{s.updateSetting(g.CHUTES_API_KEY,x,o.value),o.value&&d("save")}}),T=E({get:()=>s.getSetting(g.CHUTES_MODEL)||"",set:x=>{s.updateSetting(g.CHUTES_MODEL,x,!0),d("save")}});return(x,p)=>(_(),b("div",gt,[a("div",null,[$(i(e(t)("settings.services.aiWarningIntro"))+" ",1),a("span",{class:k(c.value=="true"?"text-red-500":"text-green-500")},i(c.value=="true"?e(t)("settings.services.serviceEnabled"):e(t)("settings.services.serviceDisabled")),3)]),a("p",mt,i(e(t)("settings.services.aiCostDescription")),1),S(C,{modelValue:y.value,"onUpdate:modelValue":p[0]||(p[0]=l=>y.value=l),"validation-type":"string",type:"password",label:e(t)("settings.services.apiKey"),"min-length":1,"error-message":e(t)("settings.services.apiKeyError"),"onUpdate:validation":p[1]||(p[1]=l=>o.value=l)},null,8,["modelValue","label","error-message"]),a("label",ft,i(e(t)("settings.services.aiModel")),1),S(D,{ref_key:"selectRef",ref:u,selected:T.value,"onUpdate:selected":p[2]||(p[2]=l=>T.value=l),options:e(f),"load-on-open":!0,"enable-search":"",placeholder:e(t)("settings.services.selectModel"),"no-options":e(v)||e(t)("settings.services.loadingModels"),onFetchOptions:e(m)},null,8,["selected","options","placeholder","no-options","onFetchOptions"])]))}}),yt={class:"border-border mt-6 flex flex-col rounded-md border p-4"},Et={class:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},bt={class:"font-semibold"},ht={class:"text-sm text-gray-400"},St={key:0},At={key:1},xt={class:"flex gap-2"},Tt=["disabled"],Lt={key:0,class:"mt-3 rounded-md bg-red-500/10 p-3 text-sm text-red-300"},It={key:1,class:"mt-4"},$t={class:"flex justify-between text-sm font-semibold"},Ct={class:"bg-border relative mt-2 h-2 overflow-hidden rounded-full"},Pt={class:"mt-3 grid gap-2 text-sm md:grid-cols-2"},Ot={class:"mt-2 text-sm"},Vt={class:"text-gray-400"},Ut={class:"font-semibold"},wt=O({__name:"ChutesUsageCard",setup(A){const{translate:r}=M(),t=U(),s=L(null),f=L(!1),v=L(null),u=L(!0),m=L(""),d=L(!0),o=L("");G(()=>{p(),m.value=t.getSetting(g.CHUTES_USAGE_LIMIT_OVERRIDE)||"",o.value=t.getSetting(g.CHUTES_REQUEST_BUFFER)||"50"});const c=async()=>{u.value&&(await t.updateSetting(g.CHUTES_USAGE_LIMIT_OVERRIDE,m.value,u.value),p())},y=async()=>{d.value&&await t.updateSetting(g.CHUTES_REQUEST_BUFFER,o.value,d.value)},T=E(()=>{if(!s.value||s.value.allowedRequestsPerDay<=0)return 0;const l=s.value.requestsUsed/s.value.allowedRequestsPerDay;return Math.min(Math.max(l*100,0),100)}),x=E(()=>s.value?new Date(s.value.lastSyncedUtc).toLocaleString():r("common.loading")),p=async(l=!1)=>{f.value=!0,v.value=null;try{s.value=await se.chutes.getUsage(l),s.value?.hasApiKey?s.value?.message&&(v.value=s.value.message):v.value=r("settings.services.chutesMissingApiKey")}catch{v.value=r("settings.services.usageLoadError")}finally{f.value=!1}};return(l,n)=>(_(),b("div",yt,[a("div",Et,[a("div",null,[a("p",bt,i(e(r)("settings.services.chutesUsageTitle")),1),a("p",ht,[s.value?.plan?(_(),b("span",St,i(e(r)("settings.services.chutesPlan",{plan:s.value.plan})),1)):(_(),b("span",At,i(e(r)("settings.services.chutesPlanUnknown")),1))])]),a("div",xt,[a("button",{class:k(["bg-primary text-primary-content rounded px-3 py-1 text-sm",{"opacity-50":f.value}]),disabled:f.value,onClick:n[0]||(n[0]=I=>p(!0))},i(e(r)("settings.services.refreshUsage")),11,Tt)])]),v.value?(_(),b("div",Lt,i(v.value),1)):(_(),b("div",It,[a("div",$t,[a("span",null,i(e(r)("settings.services.requestsToday")),1),a("span",null,i(s.value?`${s.value.requestsUsed} / ${s.value.allowedRequestsPerDay>0?s.value.allowedRequestsPerDay:e(r)("settings.services.unlimited")}${s.value.overrideRequestsPerDay?` (${e(r)("settings.services.overrideLimitLabel")})`:""}`:e(r)("common.loading")),1)]),a("div",Ct,[a("div",{class:"bg-primary absolute left-0 top-0 h-full transition-all",style:ue({width:T.value+"%"})},null,4)]),a("div",Pt,[a("div",null,[S(C,{modelValue:m.value,"onUpdate:modelValue":n[1]||(n[1]=I=>m.value=I),"validation-type":"number",type:"number",label:e(r)("settings.services.overrideUsageLimit"),"error-message":e(r)("settings.services.overrideUsageLimitError"),"onUpdate:validation":n[2]||(n[2]=I=>u.value=I),class:"w-full",onBlur:c,onKeydown:J(X(c,["prevent"]),["enter"])},null,8,["modelValue","label","error-message","onKeydown"])]),a("div",null,[S(C,{modelValue:o.value,"onUpdate:modelValue":n[3]||(n[3]=I=>o.value=I),"validation-type":"number",type:"number",placeholder:"50",label:e(r)("settings.services.chutesRequestBuffer"),"error-message":e(r)("settings.services.chutesRequestBufferError"),"onUpdate:validation":n[4]||(n[4]=I=>d.value=I),class:"w-full",onBlur:y,onKeydown:J(X(y,["prevent"]),["enter"])},null,8,["modelValue","label","error-message","onKeydown"])])]),a("div",Ot,[a("p",Vt,i(e(r)("settings.services.lastSynced")),1),a("p",Ut,i(x.value),1)])]))]))}}),Rt={class:"flex flex-col space-y-2"},kt={class:"font-semibold"},Mt=O({__name:"ServicesSettings",setup(A){const r=L(null),t=U(),s=E({get:()=>t.getSetting(g.SERVICE_TYPE),set:u=>{t.updateSetting(g.SERVICE_TYPE,u,!0),r.value?.show()}}),f=[{value:h.ANTHROPIC,label:"Anthropic"},{value:h.BING,label:"Bing"},{value:h.DEEPL,label:"DeepL"},{value:h.DEEPSEEK,label:"DeepSeek"},{value:h.GEMINI,label:"Gemini"},{value:h.GOOGLE,label:"Google"},{value:h.LIBRETRANSLATE,label:"LibreTranslate"},{value:h.LOCALAI,label:"Local AI (Custom)"},{value:h.MICROSOFT,label:"Microsoft"},{value:h.OPENAI,label:"OpenAI"},{value:h.CHUTES,label:"Chutes.ai"},{value:h.YANDEX,label:"Yandex"}],v=E(()=>{switch(s.value){case h.LIBRETRANSLATE:return be;case h.OPENAI:return we;case h.ANTHROPIC:return Pe;case h.LOCALAI:return De;case h.DEEPL:return Se;case h.GEMINI:return He;case h.DEEPSEEK:return qe;case h.CHUTES:return _t;case h.GOOGLE:case h.BING:case h.MICROSOFT:case h.YANDEX:return Le;default:return null}});return(u,m)=>(_(),V(F,{title:u.translate("settings.services.title")},{description:w(()=>[$(i(u.translate("settings.services.description")),1)]),content:w(()=>[S(W,{ref_key:"saveNotification",ref:r},null,512),a("div",Rt,[a("span",kt,i(u.translate("settings.services.serviceSelect")),1),S(D,{selected:s.value,"onUpdate:selected":m[0]||(m[0]=d=>s.value=d),options:f},null,8,["selected"]),v.value?(_(),V(ce(v.value),{key:0,onSave:m[1]||(m[1]=d=>r.value?.show())},null,32)):P("",!0),s.value===e(h).CHUTES?(_(),V(wt,{key:1})):P("",!0)]),S(vt,{onSave:m[2]||(m[2]=d=>r.value?.show())})]),_:1},8,["title"]))}}),Dt={class:"mb-2 flex w-full justify-between"},Nt={class:"flex-1"},Bt={class:"flex-1"},Kt={class:"flex justify-end"},Ht=O({__name:"CustomAiParameters",emits:["save"],setup(A,{emit:r}){const t=U(),s=r,f=E({get:()=>t.getSetting(g.CUSTOM_AI_PARAMETERS),set:o=>{t.updateSetting(g.CUSTOM_AI_PARAMETERS,o,!0,!0),s("save")}});function v(){f.value=[...f.value,{key:"",value:""}]}function u(o){f.value=f.value.filter((c,y)=>y!==o)}function m(o,c){const y=[...f.value];y[o]={...y[o],key:c},f.value=y}function d(o,c){const y=[...f.value];y[o]={...y[o],value:c},f.value=y}return(o,c)=>(_(),V(F,{title:o.translate("settings.custom.parameters")},{description:w(()=>[$(i(o.translate("settings.custom.description")),1)]),content:w(()=>[a("div",null,[a("div",Dt,[a("div",Nt,i(o.translate("settings.custom.key")),1),a("div",Bt,i(o.translate("settings.custom.value")),1),c[0]||(c[0]=a("div",{class:"w-5"},null,-1))]),(_(!0),b(R,null,K(f.value,(y,T)=>(_(),b("div",{key:T,class:"mb-3 flex items-center gap-2"},[S(C,{"model-value":y.key,"validation-type":"string",placeholder:o.translate("settings.custom.key_placeholder"),class:"flex-1","onUpdate:modelValue":x=>m(T,x)},null,8,["model-value","placeholder","onUpdate:modelValue"]),S(C,{"model-value":y.value,"validation-type":"string",placeholder:o.translate("settings.custom.value_placeholder"),class:"flex-1","onUpdate:modelValue":x=>d(T,x)},null,8,["model-value","placeholder","onUpdate:modelValue"]),S(ye,{class:"flex h-5 w-5 cursor-pointer",title:o.translate("settings.custom.remove"),onClick:x=>u(T)},null,8,["title","onClick"])]))),128)),a("div",Kt,[a("button",{class:"border-accent hover:bg-accent cursor-pointer justify-end rounded border px-3 py-2 transition-colors hover:text-white",onClick:v},i(o.translate("settings.custom.addParameter")),1)])])]),_:1},8,["title"]))}}),Yt={},Gt={width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"};function Ft(A,r){return _(),b("svg",Gt,[...r[0]||(r[0]=[a("circle",{cx:"12",cy:"12",r:"10"},null,-1),a("path",{d:"m16 12-4-4-4 4"},null,-1),a("path",{d:"M12 16V8"},null,-1)])])}const qt=ae(Yt,[["render",Ft]]),Xt={class:"group relative"},zt={class:"border-accent bg-primary pointer-events-none invisible absolute bottom-full left-0 z-10 mb-2 w-56 rounded-md border p-3 text-xs opacity-0 shadow-lg transition-all duration-200 group-hover:visible group-hover:opacity-100"},jt={class:"text-accent mb-1 font-semibold"},Wt=O({__name:"PlaceholderButton",props:{placeholder:{},placeholderText:{},title:{},description:{},label:{}},emits:["insert"],setup(A){return(r,t)=>(_(),b("div",Xt,[a("button",{type:"button",class:"border-accent hover:bg-accent flex w-full cursor-pointer items-center justify-between rounded-md border px-2 py-1 text-xs transition-colors hover:text-white",onClick:t[0]||(t[0]=s=>r.$emit("insert",A.placeholder))},[a("span",null,i(A.placeholderText),1),S(qt,{class:"ml-1 h-3.5 w-3.5"})]),a("div",zt,[a("h4",jt,i(A.title),1),a("p",null,i(A.description),1),t[1]||(t[1]=a("div",{class:"border-accent bg-primary absolute -bottom-1 left-4 h-2 w-2 rotate-45 transform border-r border-b"},null,-1))])]))}}),Qt={class:"relative"},Zt=["for"],Jt={class:"relative"},es=["id","value","placeholder","rows"],ts={key:1,class:"mt-1 text-sm text-red-600"},ss={class:"flex flex-wrap gap-3"},le=O({__name:"TextAreaComponent",props:{id:{default:`textarea-${Math.random().toString(36).substring(2,9)}`},label:{default:""},modelValue:{},placeholder:{default:""},rows:{default:4},placeholders:{default:()=>[]},requiredPlaceholders:{default:()=>[]}},emits:["update:modelValue","update:validation"],setup(A,{emit:r}){const{translate:t}=M(),s=A,f=r,v=L(null),u=L(!1),m=L(!1),d=L([]),o=E(()=>["w-full resize-y rounded-md border bg-transparent px-4 py-2 outline-hidden transition-colors duration-200",{"border-green-500":u.value},{"border-red-500":m.value},{"border-accent":!u.value&&!m.value},"pr-10"]),c=p=>{const l=s.requiredPlaceholders.filter(n=>!p.includes(n));return d.value=l,u.value=l.length===0,m.value=l.length>0,u.value},y=Ee(p=>{const l=p.target.value,n=c(l);f("update:validation",n),f("update:modelValue",l),x()},300),T=p=>{const l=v.value;if(!l)return;const n=l.selectionStart,I=l.selectionEnd,B=l.value,Q=B.substring(0,n)+p+B.substring(I);f("update:modelValue",Q),c(Q),z(()=>{l.focus();const Z=n+p.length;l.setSelectionRange(Z,Z),x()})},x=()=>{const p=v.value;p&&(p.style.height="auto",p.style.height=`${p.scrollHeight}px`,p.style.overflowY="hidden")};return G(()=>{x(),s.modelValue&&z(()=>{x()})}),(p,l)=>(_(),b("div",Qt,[A.label.length?(_(),b("label",{key:0,for:A.id,class:"mb-1 block text-sm"},i(A.label),9,Zt)):P("",!0),a("div",Jt,[a("textarea",{id:A.id,ref_key:"textareaRef",ref:v,value:A.modelValue,class:k(o.value),placeholder:A.placeholder,rows:A.rows,onInput:l[0]||(l[0]=(...n)=>e(y)&&e(y)(...n))},null,42,es),S(ve,{"is-valid":u.value,"is-invalid":m.value,class:"absolute top-3 right-3"},null,8,["is-valid","is-invalid"])]),d.value.length>0?(_(),b("p",ts,i(e(t)("settings.prompt.missingPlaceholders"))+" "+i(d.value.join(" and ")),1)):P("",!0),a("div",ss,[(_(!0),b(R,null,K(A.placeholders,(n,I)=>(_(),V(Wt,{key:I,placeholder:n.placeholder,"placeholder-text":n.placeholderText,title:n.title,description:n.description,onInsert:T},null,8,["placeholder","placeholder-text","title","description"]))),128))])]))}}),as=O({__name:"AiSystemPrompt",emits:["save"],setup(A,{emit:r}){const t=L(!1),s=U(),f=r,v=E({get:()=>s.getSetting(g.AI_PROMPT),set:u=>{s.updateSetting(g.AI_PROMPT,u,t.value),t.value&&f("save")}});return(u,m)=>(_(),V(le,{modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=d=>v.value=d),rows:10,"min-height":100,placeholders:[{placeholder:"{sourceLanguage}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{sourceLanguage}"}),title:u.translate("settings.prompt.placeholders.sourceLanguage.title"),description:u.translate("settings.prompt.placeholders.sourceLanguage.description"),required:!0},{placeholder:"{targetLanguage}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{targetLanguage}"}),title:u.translate("settings.prompt.placeholders.targetLanguage.title"),description:u.translate("settings.prompt.placeholders.targetLanguage.description"),required:!0}],"required-placeholders":["{sourceLanguage}","{targetLanguage}"],"onUpdate:validation":m[1]||(m[1]=d=>t.value=d)},null,8,["modelValue","placeholders"]))}}),ls=O({__name:"AiContextPrompt",emits:["save"],setup(A,{emit:r}){const t=L(!1),s=U(),f=r,v=E({get:()=>s.getSetting(g.AI_CONTEXT_PROMPT),set:u=>{s.updateSetting(g.AI_CONTEXT_PROMPT,u,t.value),t.value&&f("save")}});return(u,m)=>(_(),V(le,{modelValue:v.value,"onUpdate:modelValue":m[0]||(m[0]=d=>v.value=d),rows:10,"min-height":100,placeholders:[{placeholder:"{sourceLanguage}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{sourceLanguage}"}),title:u.translate("settings.prompt.placeholders.sourceLanguage.title"),description:u.translate("settings.prompt.placeholders.sourceLanguage.description"),required:!0},{placeholder:"{targetLanguage}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{targetLanguage}"}),title:u.translate("settings.prompt.placeholders.targetLanguage.title"),description:u.translate("settings.prompt.placeholders.targetLanguage.description"),required:!0},{placeholder:"{lineToTranslate}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{lineToTranslate}"}),title:u.translate("settings.prompt.placeholders.lineToTranslate.title"),description:u.translate("settings.prompt.placeholders.lineToTranslate.description"),required:!1},{placeholder:"{contextBefore}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{contextBefore}"}),title:u.translate("settings.prompt.placeholders.contextBefore.title"),description:u.translate("settings.prompt.placeholders.contextBefore.description"),required:!1},{placeholder:"{contextAfter}",placeholderText:u.translate("settings.prompt.insertPlaceholder").format({placeholder:"{contextAfter}"}),title:u.translate("settings.prompt.placeholders.contextAfter.title"),description:u.translate("settings.prompt.placeholders.contextAfter.description"),required:!1}],"onUpdate:validation":m[1]||(m[1]=d=>t.value=d)},null,8,["modelValue","placeholders"]))}}),ns={class:"flex flex-col space-y-4"},os={class:"flex flex-col space-x-2"},is={class:"font-semibold"},rs={key:0},ds={class:"flex flex-col space-x-2"},us={class:"font-semibold"},cs={class:"text-primary-content text-sm font-medium"},ps={key:0,class:"flex flex-col space-x-2"},vs={class:"font-semibold"},gs={key:1,class:"text-xs"},ms=O({__name:"PromptSettings",setup(A){const r=U(),t=L(null),s=H({contextBefore:!0,contextAfter:!0}),f=E(()=>r.getSetting(g.USE_BATCH_TRANSLATION)),v=E({get:()=>r.getSetting(g.AI_CONTEXT_PROMPT_ENABLED),set:d=>{r.updateSetting(g.AI_CONTEXT_PROMPT_ENABLED,d,!0),t.value?.show()}}),u=E({get:()=>r.getSetting(g.AI_CONTEXT_BEFORE),set:d=>{r.updateSetting(g.AI_CONTEXT_BEFORE,d,s.contextBefore),s.contextBefore&&t.value?.show()}}),m=E({get:()=>r.getSetting(g.AI_CONTEXT_AFTER),set:d=>{r.updateSetting(g.AI_CONTEXT_AFTER,d,s.contextAfter),s.contextAfter&&t.value?.show()}});return(d,o)=>(_(),V(F,{title:d.translate("settings.prompt.title")},{description:w(()=>[$(i(d.translate("settings.prompt.description")),1)]),content:w(()=>[a("div",ns,[S(W,{ref_key:"saveNotification",ref:t},null,512),a("div",os,[a("span",is,i(d.translate("settings.prompt.promptTitle")),1),$(" "+i(d.translate("settings.prompt.promptDescription")),1)]),S(as,{onSave:o[0]||(o[0]=c=>t.value?.show())}),f.value=="false"?(_(),b("div",rs,[a("div",ds,[a("span",us,i(d.translate("settings.prompt.contextPromptToggle")),1)]),S(j,{modelValue:v.value,"onUpdate:modelValue":o[1]||(o[1]=c=>v.value=c)},{default:w(()=>[a("span",cs,i(v.value=="true"?d.translate("common.enabled"):d.translate("common.disabled")),1)]),_:1},8,["modelValue"]),v.value=="true"?(_(),b("div",ps,[a("span",vs,i(d.translate("settings.prompt.contextPromptTitle")),1),$(" "+i(d.translate("settings.prompt.contextPromptDescription")),1)])):P("",!0),v.value=="true"?(_(),V(ls,{key:1,onSave:o[2]||(o[2]=c=>t.value?.show())})):P("",!0),v.value=="true"?(_(),V(C,{key:2,modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=c=>u.value=c),type:"number","validation-type":"number",label:d.translate("settings.prompt.contextBefore"),"onUpdate:validation":o[4]||(o[4]=c=>s.contextBefore=c)},null,8,["modelValue","label"])):P("",!0),v.value=="true"?(_(),V(C,{key:3,modelValue:m.value,"onUpdate:modelValue":o[5]||(o[5]=c=>m.value=c),type:"number","validation-type":"number",label:d.translate("settings.prompt.contextAfter"),"onUpdate:validation":o[6]||(o[6]=c=>s.contextAfter=c)},null,8,["modelValue","label"])):P("",!0)])):(_(),b("div",gs,i(d.translate("settings.prompt.notSupported")),1))])]),_:1},8,["title"]))}}),fs={class:"flex flex-col space-x-2"},_s={class:"font-semibold"},ys={class:"text-primary-content text-sm font-medium"},Es={key:0,class:"flex flex-col space-x-2"},bs={class:"font-semibold"},hs={key:2,class:"flex flex-col space-x-2"},Ss={class:"font-semibold"},As={class:"text-primary-content text-sm font-medium"},xs={key:4,class:"flex flex-col space-x-2"},Ts={class:"font-semibold"},Ls={class:"flex flex-col space-x-2"},Is={class:"font-semibold"},$s={class:"flex flex-col space-x-2"},Cs={class:"font-semibold"},Ps={class:"flex flex-col space-x-2"},Os={class:"font-semibold"},Vs={class:"flex flex-col space-x-2"},Us={class:"font-semibold"},ws={key:0,class:"text-xs text-secondary-content/60"},Rs=O({__name:"TranslationSettings",setup(A){const{translate:r}=M(),t=L(null),s=U(),f=L(20),v=H({maxBatchSize:!0,maxRetries:!0,retryDelay:!0,retryDelayMultiplier:!0,maxParallelTranslations:!0,maxBatchSplitAttempts:!0});G(async()=>{try{const p=await pe.get("/api/setting/system/limits");f.value=p.data.maxConcurrentTranslations}catch{}});const u=E({get:()=>s.getSetting(g.USE_BATCH_TRANSLATION),set:p=>{s.updateSetting(g.USE_BATCH_TRANSLATION,p,!0),t.value?.show()}}),m=E({get:()=>s.getSetting(g.MAX_BATCH_SIZE),set:p=>{s.updateSetting(g.MAX_BATCH_SIZE,p,v.maxBatchSize),t.value?.show()}}),d=E({get:()=>s.getSetting(g.MAX_RETRIES),set:p=>{s.updateSetting(g.MAX_RETRIES,p,v.maxRetries),t.value?.show()}}),o=E({get:()=>s.getSetting(g.RETRY_DELAY),set:p=>{s.updateSetting(g.RETRY_DELAY,p,v.retryDelay),t.value?.show()}}),c=E({get:()=>s.getSetting(g.RETRY_DELAY_MULTIPLIER),set:p=>{s.updateSetting(g.RETRY_DELAY_MULTIPLIER,p,v.retryDelayMultiplier),t.value?.show()}}),y=E({get:()=>s.getSetting(g.MAX_PARALLEL_TRANSLATIONS),set:p=>{s.updateSetting(g.MAX_PARALLEL_TRANSLATIONS,p,v.maxParallelTranslations),t.value?.show()}}),T=E({get:()=>s.getSetting(g.ENABLE_BATCH_FALLBACK)??"true",set:p=>{s.updateSetting(g.ENABLE_BATCH_FALLBACK,p,!0),t.value?.show()}}),x=E({get:()=>s.getSetting(g.MAX_BATCH_SPLIT_ATTEMPTS)??"3",set:p=>{s.updateSetting(g.MAX_BATCH_SPLIT_ATTEMPTS,p,v.maxBatchSplitAttempts),t.value?.show()}});return(p,l)=>(_(),V(F,{title:e(r)("settings.translation.title")},{description:w(()=>[$(i(e(r)("settings.translation.description")),1)]),content:w(()=>[S(W,{ref_key:"saveNotification",ref:t},null,512),a("div",fs,[a("span",_s,i(e(r)("settings.translation.useBatchTranslation")),1),$(" "+i(e(r)("settings.translation.useBatchTranslationDescription")),1)]),S(j,{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=n=>u.value=n)},{default:w(()=>[a("span",ys,i(u.value=="true"?e(r)("common.enabled"):e(r)("common.disabled")),1)]),_:1},8,["modelValue"]),u.value=="true"?(_(),b("div",Es,[a("span",bs,i(e(r)("settings.translation.maxBatchSize")),1),$(" "+i(e(r)("settings.translation.maxBatchSizeDescription")),1)])):P("",!0),u.value=="true"?(_(),V(C,{key:1,modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=n=>m.value=n),"validation-type":"number",placeholder:"50","onUpdate:validation":l[2]||(l[2]=n=>v.maxBatchSize=n)},null,8,["modelValue"])):P("",!0),u.value=="true"?(_(),b("div",hs,[a("span",Ss,i(e(r)("settings.translation.enableBatchFallback")),1),$(" "+i(e(r)("settings.translation.enableBatchFallbackDescription")),1)])):P("",!0),u.value=="true"?(_(),V(j,{key:3,modelValue:T.value,"onUpdate:modelValue":l[3]||(l[3]=n=>T.value=n)},{default:w(()=>[a("span",As,i(T.value=="true"?e(r)("common.enabled"):e(r)("common.disabled")),1)]),_:1},8,["modelValue"])):P("",!0),u.value=="true"&&T.value=="true"?(_(),b("div",xs,[a("span",Ts,i(e(r)("settings.translation.maxBatchSplitAttempts")),1),$(" "+i(e(r)("settings.translation.maxBatchSplitAttemptsDescription")),1)])):P("",!0),u.value=="true"&&T.value=="true"?(_(),V(C,{key:5,modelValue:x.value,"onUpdate:modelValue":l[4]||(l[4]=n=>x.value=n),"validation-type":"number",placeholder:"3","onUpdate:validation":l[5]||(l[5]=n=>v.maxBatchSplitAttempts=n)},null,8,["modelValue"])):P("",!0),a("div",Ls,[a("span",Is,i(e(r)("settings.translation.maxRetries")),1),$(" "+i(e(r)("settings.translation.maxRetriesDescription")),1)]),S(C,{modelValue:d.value,"onUpdate:modelValue":l[6]||(l[6]=n=>d.value=n),"validation-type":"number","onUpdate:validation":l[7]||(l[7]=n=>v.maxRetries=n)},null,8,["modelValue"]),a("div",$s,[a("span",Cs,i(e(r)("settings.translation.retryDelay")),1),$(" "+i(e(r)("settings.translation.retryDelayDescription")),1)]),S(C,{modelValue:o.value,"onUpdate:modelValue":l[8]||(l[8]=n=>o.value=n),"validation-type":"number","onUpdate:validation":l[9]||(l[9]=n=>v.retryDelay=n)},null,8,["modelValue"]),a("div",Ps,[a("span",Os,i(e(r)("settings.translation.retryDelayMultiplier")),1),$(" "+i(e(r)("settings.translation.retryDelayMultiplierDescription")),1)]),S(C,{modelValue:c.value,"onUpdate:modelValue":l[10]||(l[10]=n=>c.value=n),"validation-type":"number","onUpdate:validation":l[11]||(l[11]=n=>v.retryDelayMultiplier=n)},null,8,["modelValue"]),a("div",Vs,[a("span",Us,i(e(r)("settings.translation.maxParallelTranslations")),1),$(" "+i(e(r)("settings.translation.maxParallelTranslationsDescription"))+" ",1),f.value?(_(),b("span",ws,i(e(r)("settings.translation.maxParallelTranslationsLimit").format({max:f.value})),1)):P("",!0)]),S(C,{modelValue:y.value,"onUpdate:modelValue":l[12]||(l[12]=n=>y.value=n),"validation-type":"number",placeholder:"1",max:f.value,"onUpdate:validation":l[13]||(l[13]=n=>v.maxParallelTranslations=n)},null,8,["modelValue","max"])]),_:1},8,["title"]))}}),ks={class:"grid grid-flow-row auto-rows-max grid-cols-1 gap-4 p-4 xl:grid-cols-2 2xl:grid-cols-3"},Qs=O({__name:"ServicesPage",setup(A){const r=U(),t=E(()=>r.getSetting(g.SERVICE_TYPE));return(s,f)=>(_(),b("div",ks,[S(Mt),[e(h).ANTHROPIC,e(h).DEEPSEEK,e(h).GEMINI,e(h).LOCALAI,e(h).OPENAI,e(h).CHUTES].includes(t.value)?(_(),V(ms,{key:0})):P("",!0),[e(h).ANTHROPIC,e(h).DEEPSEEK,e(h).GEMINI,e(h).LOCALAI,e(h).OPENAI,e(h).CHUTES].includes(t.value)?(_(),V(Rs,{key:1})):P("",!0),[e(h).ANTHROPIC,e(h).DEEPSEEK,e(h).GEMINI,e(h).LOCALAI,e(h).OPENAI,e(h).CHUTES].includes(t.value)?(_(),V(Ht,{key:2})):P("",!0)]))}});export{Qs as default};
